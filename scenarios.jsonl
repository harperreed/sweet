{"name": "local-sync-e2e", "description": "End-to-end sync test against local syncvaultd server with PocketBase auth", "given": ["syncvaultd running on localhost:8090 with DEV_MODE=1", "Fresh vault keys from BIP39 seed"], "when": ["Register with email/password", "Login with email/password", "Push encrypted change", "Pull changes back", "Decrypt and verify"], "then": ["Auth tokens received with userID", "Change stored in server with seq", "Decrypted data matches original"], "validates": ["PocketBase email/password auth flow", "JWT token authentication", "Encrypted sync round-trip"]}
{"name": "multi-device-sync", "description": "Verify second device can see changes from first device", "given": ["First device authenticated and pushed data", "Same email/password credentials"], "when": ["Second device logs in with same credentials", "Second device pulls changes with different device_id"], "then": ["Second device sees first device's changes", "Both devices share same userID", "Change visible across devices"], "validates": ["Multi-device support", "Device-scoped operations", "Change visibility across devices"]}
{"name": "token-refresh", "description": "Verify refresh token rotation works correctly", "given": ["User logged in with valid refresh token"], "when": ["Call refresh endpoint with refresh_token", "Check new tokens returned"], "then": ["New access token returned", "New refresh token returned (rotation)", "Old refresh token invalidated"], "validates": ["Refresh token rotation", "Token security", "Session continuity"]}
